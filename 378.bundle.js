(self.webpackChunkfeaturedcontent=self.webpackChunkfeaturedcontent||[]).push([[378],{1096:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),p=n.n(s),c=new URL(n(8631),n.b),d=a()(i()),l=p()(c);d.push([t.id,".create>.page.menu .title {\r\n    font-size: 38px;\r\n    font-weight: 700;\r\n}\r\n\r\n.create>.page.menu .options {\r\n    margin-top: 30px;\r\n    display: inline-block;\r\n}\r\n\r\n.create>.page.menu .options>.option {\r\n    padding: 5px 20px;\r\n    font-size: 18px;\r\n    background: #fff1;\r\n    cursor: pointer;\r\n    margin: 7px 0;\r\n    border-radius: 5px;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.create>.page.menu .options>.option:hover {\r\n    background: #fff2;\r\n}\r\n\r\n.create>.page.editor .controls {\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding: 10px 0;\r\n}\r\n\r\n.create>.page.editor .controls>.control {\r\n    padding: 5px 15px;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    margin: 5px;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.create>.page.editor .controls>.control:hover {\r\n    background: #fff2;\r\n}\r\n\r\n.create>.page.editor .controls>.spacer {\r\n    flex-grow: 1;\r\n}\r\n\r\n.create>.page.editor .group {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 15px 0;\r\n}\r\n\r\n.create>.page.editor .group>.count-row {\r\n    margin-bottom: 5px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n.create>.page.editor .group>.count-row>.count {\r\n    flex-shrink: 0;\r\n    text-align: right;\r\n    margin-left: auto;\r\n    font-size: 16px;\r\n    font-weight: 900;\r\n    opacity: 0.6;\r\n}\r\n\r\n.create>.page.editor input, .create>.page.editor select {\r\n    padding: 5px 10px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    color: #fff;\r\n    border: 0;\r\n    outline: 0;\r\n}\r\n\r\n.create>.page.editor input:disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n}\r\n\r\n.create>.page.editor select {\r\n    cursor: pointer;\r\n}\r\n\r\n.create>.page.editor select option {\r\n    background: #313131;\r\n    color: #fff;\r\n}\r\n\r\n.create>.page.editor input.title {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n}\r\n\r\n.create>.page.editor input.author {\r\n    width: 300px;\r\n    max-width: 100%;\r\n    font-size: 16px;\r\n    margin: 5px auto 5px 0;\r\n    display: block;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.create>.page.editor input.author::placeholder {\r\n    text-transform: none;\r\n}\r\n\r\n.create>.page.editor select.prompt-type {\r\n    padding: 5px 6px;\r\n    font-size: 14px;\r\n}\r\n\r\n.create>.page.editor .prompt-input-row {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.create>.page.editor .prompt-input-row>.prompt-input {\r\n    flex-grow: 1;\r\n    font-size: 16px;\r\n}\r\n\r\n.create>.page.editor .prompt-input-row>.submit {\r\n    padding: 0 10px;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    margin-left: 5px;\r\n    transition: all 0.2s ease;\r\n    color: #fff;\r\n    border: 0;\r\n    outline: 0;\r\n}\r\n\r\n.create>.page.editor .prompt-input-row>.submit:not(:disabled):hover {\r\n    background: #fff2;\r\n}\r\n\r\n.create>.page.editor .prompt-input-row>.submit:disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n}\r\n\r\n.create>.page.editor .content-count {\r\n    text-align: left;\r\n    margin: 10px auto 0 0;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    opacity: 0.6;\r\n}\r\n\r\n.create>.page.editor .content {\r\n    padding: 8px 0;\r\n}\r\n\r\n.create>.page.editor .content>.item {\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding: 5px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    margin: 3px 0;\r\n    align-items: center;\r\n}\r\n\r\n.create>.page.editor .content>.item>.type {\r\n    flex-shrink: 0;\r\n    width: 40px;\r\n    height: 16px;\r\n    background: none no-repeat center/contain;\r\n}\r\n\r\n.create>.page.editor .content>.item>.type.thriplash {\r\n    background-image: url("+l+");\r\n}\r\n\r\n.create>.page.editor .content>.item>.text {\r\n    flex-grow: 1;\r\n    font-size: 16px;\r\n    padding: 5px 10px;\r\n}\r\n\r\n.create>.page.editor .content>.item>.remove {\r\n    flex-shrink: 0;\r\n    width: 26px;\r\n    height: 26px;\r\n    background: #0002;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    font-weight: 900;\r\n    transition: all 0.2s ease;\r\n    white-space: nowrap;\r\n    line-height: 26px;\r\n}\r\n\r\n.create>.page.editor .content>.item>.remove:hover {\r\n    background: #0001;\r\n}",""]);const h=d},56:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([t.id,".featured>.back {\r\n    padding: 5px 10px;\r\n    font-size: 18px;\r\n    cursor: pointer;\r\n    margin: 10px 0;\r\n    background: #fff1;\r\n    display: inline-block;\r\n    border-radius: 5px;\r\n}\r\n\r\n.featured>.title {\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n}\r\n\r\n.featured>.box {\r\n    padding: 5px 10px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    margin: 20px 0;\r\n    position: relative;\r\n}\r\n\r\n.featured>.box>.logo {\r\n    position: absolute;\r\n    top: -20px;\r\n    left: -20px;\r\n    width: 80px;\r\n    height: 80px;\r\n    background: none no-repeat center/contain;\r\n    pointer-events: none;\r\n}\r\n\r\n.featured>.box>.title {\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    padding: 15px 0;\r\n}\r\n\r\n.featured>.box>.loader {\r\n    margin: 30px auto;\r\n}\r\n\r\n.featured>.box>.error {\r\n    margin: 30px 0;\r\n    font-size: 18px;\r\n}\r\n\r\n.featured>.box .entry {\r\n    padding: 10px 15px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    margin: 5px 0;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n.featured>.box .entry:hover {\r\n    background: #fff2;\r\n}\r\n\r\n.featured>.box .entry>.left {\r\n    text-align: left;\r\n    flex-grow: 1;\r\n}\r\n\r\n.featured>.box .entry>.left>.title {\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n}\r\n\r\n.featured>.box .entry>.left>.description {\r\n    font-size: 16px;\r\n    margin-top: 5px;\r\n}\r\n\r\n.featured>.box .entry>.right {\r\n    text-align: right;\r\n    flex-shrink: 0;\r\n    padding-left: 15px;\r\n}\r\n\r\n.featured>.box .entry>.right>.content-id {\r\n    font-size: 16px;\r\n    font-weight: 900;\r\n    margin-bottom: 3px;\r\n}\r\n\r\n.featured>.box .entry>.right>.published {\r\n    font-size: 16px;\r\n    opacity: 0.7;\r\n}",""]);const s=a},9220:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([t.id,".menu>.logo {\r\n    max-width: 100%;\r\n    margin-bottom: 50px;\r\n}\r\n\r\n.menu>.choices {\r\n    padding: 10px 0;\r\n    display: inline-block;\r\n}\r\n\r\n.menu>.choices>.choice {\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n    padding: 10px 30px;\r\n    margin: 10px 0;\r\n    cursor: pointer;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.menu>.choices>.choice:hover {\r\n    background: #fff2;\r\n}",""]);const s=a},582:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([t.id,".modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 50;\r\n    background: #000a;\r\n}\r\n\r\n.modal>.inner {\r\n    position: relative;\r\n    min-height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 20px;\r\n}\r\n\r\n.modal>.inner>.content {\r\n    width: 500px;\r\n    padding: 20px;\r\n    max-width: 100%;\r\n    background: #222;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n}\r\n\r\n.modal>.inner>.content.loader-modal {\r\n    background: none;\r\n}\r\n\r\n.modal .content .title {\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.modal .content .buttons {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n}\r\n\r\n.modal .content .buttons>button {\r\n    padding: 5px 10px;\r\n    background: #fff1;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    margin: 5px;\r\n    font-size: 18px;\r\n    border: 0;\r\n    color: #fff;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.modal .content .buttons>button:hover {\r\n    background: #fff2;\r\n}\r\n\r\n.modal .content .text {\r\n    font-size: 16px;\r\n}\r\n\r\n.modal .content .id-input {\r\n    padding: 5px 10px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    font-size: 38px;\r\n    font-weight: 900;\r\n    border: 0;\r\n    color: #fff;\r\n    text-align: center;\r\n    width: 100%;\r\n    outline: 0;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.modal .content .content-id {\r\n    font-size: 38px;\r\n    font-weight: 900;\r\n}\r\n\r\n.modal .content .choices>.choice {\r\n    padding: 8px 14px;\r\n    background: #fff1;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    margin: 5px;\r\n    font-size: 24px;\r\n    color: #fff;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.modal .content .choices>.choice:hover {\r\n    background: #fff2;\r\n}",""]);const s=a},3490:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),p=n.n(s),c=new URL(n(8631),n.b),d=a()(i()),l=p()(c);d.push([t.id,".preview>.logo {\r\n    max-height: 200px;\r\n    margin: 20px 0;\r\n}\r\n\r\n.preview>.header {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.preview>.header>.back {\r\n    padding: 10px 15px;\r\n    background: #fff1;\r\n    font-size: 22px;\r\n    flex-shrink: 0;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.preview>.header>.content-id {\r\n    font-size: 38px;\r\n    font-weight: 900;\r\n    padding: 10px 20px;\r\n}\r\n\r\n.preview>.title {\r\n    font-size: 28px;\r\n    font-weight: 700;\r\n    padding: 20px 0 10px;\r\n}\r\n\r\n.preview>.author {\r\n    font-size: 18px;\r\n}\r\n\r\n.preview>.author>.name {\r\n    padding: 5px 10px;\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n    font-weight: 700;\r\n}\r\n\r\n.preview>.created {\r\n    font-size: 16px;\r\n    opacity: 0.7;\r\n    padding: 10px 0;\r\n}\r\n\r\n.preview>.prompts {\r\n    padding: 30px 0;\r\n}\r\n\r\n.preview .prompt {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    padding: 10px;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.preview .prompt:hover {\r\n    padding: 5px 10px;\r\n}\r\n\r\n.preview .prompt:nth-child(odd) {\r\n    background: #fff1;\r\n    border-radius: 5px;\r\n}\r\n\r\n.preview .prompt>.text {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: left;\r\n}\r\n\r\n.preview .prompt>.text>.author {\r\n    font-size: 12px;\r\n    opacity: 0.5;\r\n    height: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.preview .prompt:hover>.text>.author {\r\n    height: 25px;\r\n    padding: 9px 0 4px;\r\n}\r\n\r\n.preview .prompt>.text>.author>.name {\r\n    padding: 2px 5px;\r\n    background: #fff2;\r\n    border-radius: 5px;\r\n}\r\n\r\n.preview .prompt>.type {\r\n    flex-shrink: 0;\r\n    width: 40px;\r\n    height: 16px;\r\n    background: none no-repeat center/contain;\r\n    margin-left: 15px;\r\n}\r\n\r\n.preview .prompt>.type.thriplash {\r\n    background-image: url("+l+");\r\n}",""]);const h=d},2802:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),p=n.n(s),c=n(3565),d=n.n(c),l=n(9216),h=n.n(l),u=n(4589),m=n.n(u),f=n(1096),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=p().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=h(),i()(f.Z,x);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},2329:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),p=n.n(s),c=n(3565),d=n.n(c),l=n(9216),h=n.n(l),u=n(4589),m=n.n(u),f=n(56),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=p().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=h(),i()(f.Z,x);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},9629:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),p=n.n(s),c=n(3565),d=n.n(c),l=n(9216),h=n.n(l),u=n(4589),m=n.n(u),f=n(9220),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=p().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=h(),i()(f.Z,x);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},2221:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),p=n.n(s),c=n(3565),d=n.n(c),l=n(9216),h=n.n(l),u=n(4589),m=n.n(u),f=n(582),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=p().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=h(),i()(f.Z,x);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},8556:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3379),i=n.n(r),o=n(7795),a=n.n(o),s=n(569),p=n.n(s),c=n(3565),d=n.n(c),l=n(9216),h=n.n(l),u=n(4589),m=n.n(u),f=n(3490),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=p().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=h(),i()(f.Z,x);const g=f.Z&&f.Z.locals?f.Z.locals:void 0},5359:(t,e,n)=>{const r=n(8949),i=n(546);t.exports=class extends r{constructor(t,e,n){super(),this.content.append(i.createElement("div","title",t),i.createElement("div","text",e),i.createElement("div","buttons",this.submit=i.createElement("button",null,n||"Confirm"),this.cancel=i.createElement("button",null,"Cancel"))),this.submit.onclick=this.confirm.bind(this),this.cancel.onclick=this.close.bind(this)}confirm(){this.emit("confirm"),this.close()}}},6450:(t,e,n)=>{const r=n(8949),i=n(546);t.exports=class extends r{constructor(){super(),this.content.append(i.createElement("div","title","Enter an episode ID"),this.form=i.createElement("form",null,this.input=i.createElement("input",{class:"id-input",type:"text",placeholder:"ABC-DEFG",maxlength:8,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),i.createElement("div","buttons",i.createElement("button",null,"Enter"),this.cancel=i.createElement("button",null,"Cancel")))),this.input.oninput=this.update.bind(this),this.form.onsubmit=this.submit.bind(this),this.cancel.onclick=this.doCancel.bind(this)}open(){const t=super.open();return this.input.focus(),t}get value(){return i.filterContentId(this.input.value)}update(){this.input.value=i.formatContentId(this.value)}submit(t){t.preventDefault(),this.transitioning||this.value.length<7||(this.emit("submit",this.value),this.close())}doCancel(t){t.preventDefault(),this.transitioning||(this.emit("cancel"),this.close())}}},3463:(t,e,n)=>{const r=[{name:"Quiplash 3",listId:"q3featured",logo:n(3474)},{name:"Drawful Animate",listId:"drawful-animated",logo:n(1748)}];t.exports=r},5248:(t,e,n)=>{const r=n(5213),i=n(8949),o=n(546);t.exports=class extends i{constructor(){super(),this.content.append(o.createElement("div","title","Select a game to create an episode for"),o.createElement("div","choices",r.map((t=>{const e=o.createElement("div","choice",t.name);return e.onclick=this.choose.bind(this,t),e}))),o.createElement("div","buttons",this.cancel=o.createElement("button",null,"Cancel"))),this.cancel.onclick=this.close.bind(this)}choose(t){this.transitioning||(this.emit("choose",t),this.close())}}},4893:(t,e,n)=>{const r=n(8949),i=n(546);t.exports=class extends r{constructor(){super(),this.content.classList.add("loader-modal"),this.content.append(i.createElement("div","loader"))}}},2033:(t,e,n)=>{const{default:r}=n(6358),i=n(546),o=n(7142),a=n(2470),s=n(8006);n(9629);const p=[{label:"Make Your Own",action:"create"},{label:"View Existing",action:"preview"},{label:"Featured Content",action:"featured"}];t.exports=class{constructor(){i.container.append(this.wrapper=i.createElement("div","menu",i.createElement("img",{class:"logo",src:n(5155)}),i.createElement("div","choices",...p.map((t=>{const e=i.createElement("div","choice",t.label);return e.onclick=this.handleChoice.bind(this,t.action),e}))))),r.fromTo(this.wrapper,{opacity:0},{opacity:1,ease:"none",duration:.1})}handleChoice(t){this.transitioning||(this.transitioning=!0,r.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>{this.wrapper.remove(),this.createView(t)}}))}createView(t){switch(t){case"create":return new o;case"preview":return new s;case"featured":return new a}}}},8949:(t,e,n)=>{const r=n(546),i=n(7187),{default:o}=n(6358);n(2221),t.exports=class extends i{constructor(){super(),this.wrapper=r.createElement("div","modal",r.createElement("div","inner",this.content=r.createElement("div","content")))}open(){return r.wrapper.append(this.wrapper),o.fromTo(this.wrapper,{opacity:0},{opacity:1,ease:"none",duration:.1}),o.fromTo(this.content,{scale:.5},{scale:1,ease:"power4.out",duration:.5}),this}close(){this.transitioning||(this.transitioning=!0,o.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>this.wrapper.remove()}),o.to(this.content,{scale:.5,ease:"power1.in",duration:.1}))}}},3500:(t,e,n)=>{const r=n(8949),i=n(546);t.exports=class extends r{constructor(t){super(),this.content.append(i.createElement("div","title","Your episode ID is:"),i.createElement("div","content-id",i.formatContentId(t)),i.createElement("div","buttons",this.submit=i.createElement("button",null,"Okay"))),this.submit.onclick=this.close.bind(this)}}},3814:(t,e,n)=>{const r=n(8949),i=n(546);t.exports=class extends r{constructor(t,e){super(),this.content.append(i.createElement("div","title",t),i.createElement("div","text",e),i.createElement("div","buttons",this.submit=i.createElement("button",null,"Okay"))),this.submit.onclick=this.close.bind(this)}}},9461:(t,e,n)=>{const r=n(1614),i=n(5213),o=n(8);t.exports=class{fromNew(t){return this.userId=r.v4(),this.appId=t.appId,this.categoryId=t.categoryId,this.author="",this.title="",this.content=[],this.creator={platformId:"WIN",platformUserId:""},this}fromContent(t){return this.userId=t.userId,this.appId=t.appId,this.categoryId=t.categoryId,this.author=t.author,this.title=t.title,this.content=t.content.map((t=>(new o).fromContent(t))),this}get gameType(){return i.find((t=>t.appId===this.appId))}get export(){return{appId:this.appId,categoryId:this.categoryId,userId:this.userId,blob:{content:this.content.map((t=>({author:{id:this.userId,name:this.author},prompt:t.prompt,type:t.type})))},creator:{platformId:"WIN",platformUserId:""},metadata:{title:this.title,author:this.author}}}}},8:(t,e,n)=>{const r=n(1614);t.exports=class{constructor(){this.id=r.v4()}fromNew(t){return this.prompt=t.text,this.type=t.type,this}fromContent(t){return this.prompt=t.prompt,this.type=t.type,this}}},7142:(t,e,n)=>{const{default:r}=n(6358),i=n(5359),o=n(9461),a=n(8),s=n(6450),p=n(5248),c=n(4893),d=n(3500),l=n(3814),h=n(546);n(2802);const u=class{constructor(t){this.wrapper=h.createElement("div",`page ${t}`),r.fromTo(this.wrapper,{opacity:0},{opacity:1,ease:"none",duration:.1})}exit(){return new Promise((t=>{this.transitioning?t():(this.transitioning=!0,r.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>{this.wrapper.remove(),t()}}))}))}},m=[{label:"Back to menu",action:"exit"},{label:"Create new episode",action:"new"},{label:"Copy prompts from existing episode",action:"copy"}],f=class extends u{constructor(){super("menu")}setup(){this.wrapper.append(h.createElement("div","title","Make Your Own"),h.createElement("div","options",...m.map((t=>{const e=h.createElement("div","option",t.label);return e.onclick=this.chooseOption.bind(this,t.action),e}))))}chooseOption(t){if(!this.transitioning)switch(t){case"exit":this.view.exit();break;case"new":(new p).open().on("choose",(t=>this.view.createNew(t)));break;case"copy":(new s).open().on("submit",(t=>this.view.createFromExisting(t)))}}},x=class extends u{constructor(){super("editor")}setup(){this.wrapper.append(h.createElement("div","controls",this.cancelButton=h.createElement("div","control","EXIT"),h.createElement("div","spacer"),this.publishButton=h.createElement("div","control","PUBLISH")),h.createElement("div","group",h.createElement("div","count-row",this.titleCount=h.createElement("div","count")),this.title=h.createElement("input",{class:"title",placeholder:"Enter a title…",maxlength:this.content.gameType.max.title}),this.author=h.createElement("input",{class:"author",placeholder:"Author name",maxlength:12})),this.form=h.createElement("form","form",h.createElement("div","group",this.promptInputRow=h.createElement("div","count-row",this.promptInputCount=h.createElement("div","count")),h.createElement("div","prompt-input-row",this.promptInput=h.createElement("input",{class:"prompt-input",placeholder:"Enter a prompt here…",maxlength:this.content.gameType.max.prompt}),this.submitButton=h.createElement("button","submit","ADD")))),this.contentCount=h.createElement("div","content-count"),this.contentList=h.createElement("div","content"));const t=this.update.bind(this);this.content.gameType.types&&this.content.gameType.types.length&&(this.typeSelect=h.createElement("select","prompt-type",h.createElement("option",{value:"normal"},"Normal Prompt"),...this.content.gameType.types.map((t=>h.createElement("option",{value:t.id},t.label)))),this.promptInputRow.prepend(this.typeSelect),this.typeSelect.onchange=t),this.cancelButton.onclick=this.cancel.bind(this),this.publishButton.onclick=this.publish.bind(this),this.title.value=this.content.gameType.isSafeTitle?h.unsafeText(this.content.title):this.content.title,this.author.value=this.content.author,this.title.oninput=t,this.author.oninput=t,this.promptInput.oninput=t,this.form.onsubmit=this.submit.bind(this),this.items={},this.content.content.forEach((t=>this.contentList.prepend(this.createContentItem(t)))),this.update()}get content(){return this.view.content}validate(){return this.content.title?this.content.author?this.content.content.length<1?"You need to add some prompts!":void 0:"You need to enter an author name!":"You need to enter a title!"}cancel(){this.transitioning||new i("Are you sure?","If unpublished, you will not be able to recover this episode.","Exit").open().on("confirm",(()=>this.view.setView(f)))}submit(t){t.preventDefault(),this.pendingPrompt&&(this.addItem(this.pendingPrompt),this.promptInput.value="",this.update())}addItem(t){const e=this.typeSelect&&"normal"!==this.typeSelect.value?this.typeSelect.value:null,n=(new a).fromNew({text:t,type:e});this.content.content.push(n),this.contentList.prepend(this.createContentItem(n))}createContentItem(t){const e=h.createElement("div","remove","X");e.onclick=this.removeContentItem.bind(this,t);const n=h.createElement("div","item",h.createElement("div","text",h.safeText(h.formatPrompt(this.content.gameType.isSafePrompts?h.unsafeText(t.prompt):t.prompt))),e);return t.type&&n.prepend(h.createElement("div",`type ${t.type}`)),this.items[t.id]=n,this.update(),n}removeContentItem(t){this.items[t.id].remove(),this.content.content.splice(this.content.content.findIndex((e=>e.id===t.id)),1),this.update()}formatInput(t,e,n,r){const i=t.trim().substring(0,e);return n&&(n.innerText=e-t.length),r?h.safeText(i):i}update(){this.content.title=this.formatInput(this.title.value,this.content.gameType.max.title,this.titleCount,this.content.gameType.isSafeTitle),this.content.author=this.formatInput(this.author.value,12).toUpperCase(),this.pendingPrompt=this.formatInput(this.promptInput.value,this.content.gameType.max.prompt,this.promptInputCount,this.content.gameType.isSafePrompts),this.contentCount.innerText=`${this.content.content.length} of ${this.content.gameType.max.content} prompts`;const t=this.content.content.length>=this.content.gameType.max.content;this.promptInput.disabled=t,this.submitButton.disabled=t||!this.pendingPrompt}publish(){const t=this.validate();t?new l("Error",t).open():new i("Are you sure you want to publish this episode?",'By sharing content, you agree to Jackbox Games <a href="http://www.jackboxgames.com/terms-of-service/" target="_blank">Terms of Service</a>',"Publish").open().on("confirm",(async()=>{const t=(new c).open();try{const e=await h.API.sendContent(this.content);t.close(),new d(e.contentId).open()}catch(e){console.warn(e),t.close(),new l("Error","There was an error publishing your episode.")}}))}};t.exports=class{constructor(){h.container.append(this.wrapper=h.createElement("div","create")),this.setView(f)}setView(t){if(this.view){if(this.transitioning)return;return this.transitioning=!0,this.view.exit().then(this.setView.bind(this,t)),void(this.view=null)}this.transitioning=!1,this.view=new t,this.view.view=this,this.view.setup(),this.wrapper.append(this.view.wrapper)}createNew(t){this.content=(new o).fromNew({appId:t.appId,categoryId:t.categoryId}),this.setView(x)}async createFromExisting(t){const e=(new c).open();try{const n=await h.API.getContent({contentId:t});e.close(),this.content=(new o).fromContent(n),this.setView(x)}catch(n){console.warn(n),e.close(),new l("Error",`Failed to retrieve episode ${h.formatContentId(t)}`).open()}}exit(){this.transitioning||(this.transitioning=!0,r.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>{this.wrapper.remove(),h.loadMenu()}}))}}},2470:(t,e,n)=>{const{default:r}=n(6358),i=n(3463),o=n(546),a=n(8006);n(2329);const s=class{constructor(){o.container.append(this.wrapper=o.createElement("div","featured",this.back=o.createElement("div","back","BACK"),o.createElement("div","title","Featured Content"),...this.createFeaturedBoxes())),this.back.onclick=this.exit.bind(this,o.loadMenu)}createFeaturedBoxes(){return i.map(this.createFeaturedBox.bind(this))}createFeaturedBox(t){const e=o.createElement("div","logo");e.style.backgroundImage=`url(${t.logo})`;const n=o.createElement("div","loader"),r=o.createElement("div","box",e,o.createElement("div","title",t.name),n);return o.API.getList({listId:t.listId}).then((t=>{r.append(o.createElement("div","entries",...t.entries.map(this.createListEntry.bind(this))))})).catch((e=>{console.warn(e),r.append(o.createElement("div","error",`Failed to fetch list ${t.listId}`))})).finally((()=>n.remove())),r}createListEntry(t){const e=o.createElement("div","left",o.createElement("div","title",t.title));t.description&&e.append(o.createElement("div","description",t.description));const n=o.createElement("div","entry",e,o.createElement("div","right",o.createElement("div","content-id",o.formatContentId(t.contentId)),o.createElement("div","published",t.published.toLocaleDateString())));return n.onclick=this.previewEpisode.bind(this,t.contentId),n}previewEpisode(t){this.exit((()=>new a((()=>new s),t)))}exit(t){this.transitioning||(this.transitioning=!0,r.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>{this.wrapper.remove(),t()}}))}};t.exports=s},8006:(t,e,n)=>{const{default:r}=n(6358),i=n(6450),o=n(4893),a=n(3814),s=n(546);n(8556),t.exports=class{constructor(t,e){if(this.back=()=>this.exit(t||s.loadMenu),e)return void this.load(e);const n=(new i).open();n.on("submit",this.load.bind(this)),n.on("cancel",this.back)}async load(t){const e=(new o).open();s.container.append(this.wrapper=s.createElement("div","preview"));try{this.content=await s.API.getContent({contentId:t}),e.close(),this.initialize()}catch(n){console.warn(n),e.close(),this.wrapper.remove(),s.loadMenu(),new a("Error",`Failed to retrieve episode ${s.formatContentId(t)}`).open()}}initialize(){const t=s.createElement("div","back","BACK");t.onclick=this.back,this.wrapper.append(s.createElement("img",{class:"logo",src:this.content.gameType.logo}),s.createElement("div","header",t,s.createElement("div","content-id",s.formatContentId(this.content.contentId))),s.createElement("div","title",this.content.gameType.isSafeTitle?this.content.title:s.safeText(this.content.title)),s.createElement("div","author","by ",s.createElement("span","name",this.content.author)),s.createElement("div","created",this.content.created.toLocaleDateString()),s.createElement("div","prompts",...this.createPrompts())),r.fromTo(this.wrapper,{opacity:0},{opacity:1,ease:"none",duration:.1})}createPrompts(){return this.content.content.map((t=>{const e=s.createElement("div","prompt",s.createElement("div","text",s.createElement("div","text",s.safeText(s.formatPrompt(this.content.gameType.isSafePrompts?s.unsafeText(t.prompt):t.prompt))),s.createElement("div","author","by ",s.createElement("span","name",t.author.name))));return t.type&&e.append(s.createElement("div",`type ${t.type}`)),e}))}exit(t){this.transitioning||(this.transitioning=!0,this.wrapper?r.to(this.wrapper,{opacity:0,ease:"none",duration:.1,onComplete:()=>{this.wrapper.remove(),t()}}):t())}}},5155:(t,e,n)=>{"use strict";t.exports=n.p+"bcd835e50a901661b47f.svg"},8631:(t,e,n)=>{"use strict";t.exports=n.p+"877bedea377e16ac19b0.svg"}}]);